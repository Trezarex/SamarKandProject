<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Samarkand Data Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</head>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
            "Helvetica Neue", sans-serif;
    }

    body {
        display: flex;
        background-color: #ffffff;
        color: #333;
        line-height: 1.6;
        height: 100vh;
        overflow: hidden;
    }

    /* Navigation Sidebar */
    .nav-sidebar {
        width: 250px;
        background: #2c3e50;
        color: white;
        display: flex;
        flex-direction: column;
        position: fixed;
        height: 100vh;
        left: 0;
        top: 0;
        z-index: 1000;
    }

    .nav-header {
        padding: 20px;
        border-bottom: 1px solid #34495e;
        text-align: center;
    }

    .nav-header h2 {
        font-size: 18px;
        font-weight: 600;
    }

    .nav-menu {
        flex: 1;
        padding: 20px 0;
    }

    .nav-item {
        display: block;
        padding: 15px 20px;
        color: #ecf0f1;
        text-decoration: none;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-size: 14px;
    }

    .nav-item:hover {
        background-color: #34495e;
    }

    .nav-item.active {
        background-color: #3498db;
        border-right: 3px solid #2980b9;
    }

    .nav-footer {
        padding: 20px;
        border-top: 1px solid #34495e;
    }

    .logout-btn {
        display: block;
        padding: 12px 20px;
        background-color: #e74c3c;
        color: white;
        text-decoration: none;
        border: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        border-radius: 4px;
        transition: background-color 0.3s ease;
        font-size: 14px;
    }

    .logout-btn:hover {
        background-color: #c0392b;
    }

    /* Main Content Area */
    .main-content {
        margin-left: 250px;
        flex: 1;
        display: flex;
        height: 100vh;
        overflow: hidden;
    }

    .content-section {
        display: none;
        width: 100%;
        height: 100%;
        overflow-y: auto;
    }

    .content-section.active {
        display: block;
    }

    /* Homepage Styles */
    .homepage {
        padding: 40px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .hero-section {
        text-align: center;
        margin-bottom: 50px;
    }

    .hero-section h1 {
        font-size: 48px;
        color: #2c3e50;
        margin-bottom: 20px;
    }

    .hero-section p {
        font-size: 18px;
        color: #7f8c8d;
        max-width: 600px;
        margin: 0 auto 30px;
    }

    .hero-image {
        width: 100%;
        max-width: 600px;
        height: 300px;
        object-fit: cover;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 50px;
    }

    .feature-card {
        background: #f8f9fa;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .feature-card h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 20px;
    }

    .feature-card p {
        color: #7f8c8d;
        line-height: 1.6;
    }

    /* Dashboard Styles - Redesigned */
    .dashboard-container {
        display: flex;
        flex-direction: column;
        height: 100%;
        width: 100%;
    }

    .dashboard-header {
        background: #f8f9fa;
        border-bottom: 2px solid #e9ecef;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .dashboard-title {
        font-size: 24px;
        color: #2c3e50;
        margin-bottom: 20px;
        font-weight: 600;
    }

    .filters-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }

    .filter-group {
        display: flex;
        flex-direction: column;
    }

    .filter-group label {
        font-weight: 500;
        margin-bottom: 8px;
        color: #495057;
        font-size: 14px;
    }

    .filter-group select {
        padding: 10px 12px;
        border: 2px solid #e9ecef;
        border-radius: 6px;
        font-size: 14px;
        background: white;
        transition: border-color 0.3s ease;
    }

    .filter-group select:focus {
        outline: none;
        border-color: #4285f4;
        box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
    }

    .dataset-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }

    .dataset-tabs button {
        padding: 12px 24px;
        border: 2px solid #e9ecef;
        background: white;
        color: #495057;
        cursor: pointer;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .dataset-tabs button:hover {
        background: #f8f9fa;
        border-color: #4285f4;
    }

    .dataset-tabs button.active {
        background: #4285f4;
        color: white;
        border-color: #4285f4;
    }

    .chart-controls {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .chart-controls button {
        padding: 10px 20px;
        border: 2px solid #e9ecef;
        background: white;
        color: #495057;
        cursor: pointer;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
        font-size: 14px;
    }

    .chart-controls button:hover {
        background: #f8f9fa;
        border-color: #28a745;
    }

    .chart-controls .download-btn {
        background: #28a745;
        color: white;
        border-color: #28a745;
    }

    .chart-controls .download-btn:hover {
        background: #218838;
        border-color: #218838;
    }

    .dashboard-content {
        flex: 1;
        padding: 30px;
        background: white;
        overflow-y: auto;
    }

    .chart-container {
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 30px;
        height: 500px;
        position: relative;
    }

    .chart-container canvas {
        max-height: 100%;
        width: 100% !important;
        height: 100% !important;
    }

    .no-data-message {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 400px;
        color: #6c757d;
        font-size: 18px;
        background: #f8f9fa;
        border-radius: 10px;
        border: 2px dashed #dee2e6;
    }

    .page-content {
        padding: 40px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .page-content h1 {
        font-size: 32px;
        color: #2c3e50;
        margin-bottom: 20px;
    }

    .page-content p {
        font-size: 16px;
        color: #7f8c8d;
        line-height: 1.8;
        margin-bottom: 20px;
    }

    .placeholder-content {
        background: #f8f9fa;
        padding: 40px;
        border-radius: 10px;
        text-align: center;
        margin-top: 30px;
    }

    .placeholder-content h3 {
        color: #2c3e50;
        margin-bottom: 15px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .filters-container {
            grid-template-columns: 1fr;
        }

        .dataset-tabs {
            flex-direction: column;
        }

        .chart-controls {
            justify-content: center;
        }
    }
</style>

<body>
    <!-- Navigation Sidebar -->
    <div class="nav-sidebar">
        <div class="nav-header">
            <h2>Samarkand Dashboard</h2>
        </div>

        <div class="nav-menu">
            <button class="nav-item active" onclick="showSection('homepage')">
                üè† Homepage
            </button>
            <button class="nav-item" onclick="showSection('dashboard')">
                üìä Dashboard
            </button>
            <button class="nav-item" onclick="showSection('reports')">
                üìà Reports
            </button>
            <button class="nav-item" onclick="showSection('predictions')">
                üîÆ Predictions Insights
            </button>
            <button class="nav-item" onclick="showSection('settings')">
                ‚öôÔ∏è Settings
            </button>
            <button class="nav-item" onclick="showSection('account')">
                üë§ User Account
            </button>
        </div>

        <div class="nav-footer">
            <button class="logout-btn" onclick="logout()">
                üö™ Logout
            </button>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">

        <!-- Homepage section starts from here -->
        <div id="homepage" class="content-section active">
            <div class="homepage">
                <div class="hero-section">
                    <h1>Welcome to Samarkand Data Analytics</h1>
                    <p>Discover powerful insights from comprehensive data analysis of hospitals, preschools, and
                        educational institutions across the Samarkand region. Our advanced analytics platform provides
                        real-time visualization and predictive modeling to support data-driven decision making.</p>
                </div>

                <div class="features-grid">
                    <div class="feature-card">
                        <h3>üìä Interactive Dashboards</h3>
                        <p>Explore dynamic visualizations with real-time filtering and customizable chart types. Get
                            instant insights from your data with our intuitive dashboard interface.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üîÆ Predictive Insights</h3>
                        <p>Forecast future trends and make informed decisions with our predictive modeling capabilities
                            powered by artificial intelligence.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üìã Comprehensive Reports</h3>
                        <p>Generate detailed reports with customizable metrics and export capabilities for presentations
                            and further analysis.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard section starts from here -->
        <div id="dashboard" class="content-section">
            <div class="dashboard-container">
                <!-- Dashboard Header with Filters -->
                <div class="dashboard-header">
                    <h1 class="dashboard-title">Data Analytics Dashboard</h1>

                    <!-- All the dataset Selection -->
                    <div class="dataset-tabs">
                        <button id="btn-hospitals" onclick="loadData('hospitals')">üè• Hospitals</button>
                        <button id="btn-preschools" onclick="loadData('preschools')">üè´ Preschools</button>
                        <button id="btn-students" onclick="loadData('students')">üë®‚Äçüéì Students</button>
                    </div>

                    <!-- Filters Row -->
                    <div class="filters-container">
                        <div class="filter-group">
                            <label for="regionFilter">Region:</label>
                            <select id="regionFilter" onchange="applyFilters()">
                                <option value="">All Regions</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="districtFilter">District:</label>
                            <select id="districtFilter" onchange="applyFilters()">
                                <option value="">All Districts</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label for="metricSelector">Metric:</label>
                            <select id="metricSelector" onchange="renderChart(currentChartType)">
                                <option value="">Select Metric</option>
                            </select>
                        </div>
                    </div>

                    <!-- Chart Controls -->
                    <div class="chart-controls">
                        <button onclick="renderChart('bar')">üìä Bar Chart</button>
                        <button onclick="renderChart('line')">üìà Line Chart</button>
                        <button onclick="renderChart('pie')">ü•ß Pie Chart</button>
                        <button class="download-btn" onclick="downloadChart()">üíæ Download Chart</button>
                        <button class="download-btn" onclick="downloadCSV()">üìÑ Download CSV</button>
                    </div>
                </div>

                <!-- Dashboard Content -->
                <div class="dashboard-content">
                    <div class="chart-container">
                        <canvas id="myChart"></canvas>
                        <div id="noDataMessage" class="no-data-message" style="display: none;">
                            üìä Select a dataset and metric to view the chart
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports section starts from here -->
        <div id="reports" class="content-section">
            <div class="page-content">
                <h1>Reports</h1>
                <p>Generate comprehensive reports and analytics summaries for your data. This section will contain
                    detailed reporting tools and export capabilities.</p>
                <div class="placeholder-content">
                    <h3>üìã Reports Module</h3>
                    <p>Advanced reporting features coming soon. You'll be able to create custom reports, schedule
                        automated reports, and export data in various formats.</p>
                </div>
            </div>
        </div>

        <!-- Predictions section starts from here -->
        <div id="predictions" class="content-section">
            <div class="page-content">
                <h1>Predictions Insights</h1>
                <p>Leverage machine learning and predictive analytics to forecast trends and make data-driven decisions
                    for future planning.</p>
                <div class="placeholder-content">
                    <h3>üîÆ AI-Powered Predictions</h3>
                    <p>Our predictive modeling engine will help you forecast enrollment trends, resource allocation
                        needs, and capacity planning for educational institutions.</p>
                </div>
            </div>
        </div>

        <!-- Settings section starts from here -->
        <div id="settings" class="content-section">
            <div class="page-content">
                <h1>Settings</h1>
                <p>Configure your dashboard preferences, data sources, and system settings to customize your analytics
                    experience.</p>
                <div class="placeholder-content">
                    <h3>‚öôÔ∏è System Configuration</h3>
                    <p>Manage your data connections, visualization preferences, user permissions, and notification
                        settings from this centralized control panel.</p>
                </div>
            </div>
        </div>

        <!-- User Account section starts from here -->
        <div id="account" class="content-section">
            <div class="page-content">
                <h1>User Account</h1>
                <p>Manage your profile information, security settings, and account preferences.</p>
                <div class="placeholder-content">
                    <h3>üë§ Profile Management</h3>
                    <p>Update your personal information, change password, manage API keys, and configure your account
                        security settings.</p>
                </div>
            </div>
        </div>

    </div>
</body>

</html>